<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learn Testing</title>
  </head>
  <body>
    <h1>Open the console</h1>

    <script>
      // The function we're testing
      function square(x) {
        return x * x;
      }
    
       // Checks if two values are equal
      function equal(result, expected, message) {
        if (result === expected) {
          console.info(message || `Test passed: ${result} is equal to ${expected}`);
        } else {
          console.error(`Test failed: expected ${expected}, but got ${result}`);
        }
      }

      // Checks if two values are not equal
      function notEqual(result, expected, message) {
        if(result !== expected) {
          console.info(message || `Test passed: ${result} is different to ${expected}`);
        } else {
          console.error(`Test failed: expected ${expected} is the same as ${result}`);
        }
      }
    
      function testSquare() {
        const result1 = square(2);
        equal(result1, 4);
    
        const result2 = square(3.5);
        equal(result2, 12.25);
      }

      function testSquareNotEqual() {
        const result3 = square(3);
        const expected3 =10;
        notEqual(result3, expected3);
      }

      // Test function to group and label tests
      function test(name, testFunction) {
        console.group(name);
        try {
          testFunction();
        } catch(error) {
          console.error(`Error: ${error.message}`);
        }
        console.groupEnd();
      }

      // Refactor tests using the test function
      test("Correctly squares integers", () => {
        const result = square(2);
        const expected = 4;
        equal(result, expected);
      });
      
      test("Correctly squares decimals", () => {
        const result = square(3.5);
        const expected = 12.25;
        equal(result, expected);
      });

    
      testSquare();
    </script>    
  </body>
</html>
